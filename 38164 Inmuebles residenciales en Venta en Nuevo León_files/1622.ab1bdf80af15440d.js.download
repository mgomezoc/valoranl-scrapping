"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1622],{81622:function(e,r,i){i.d(r,{T:function(){return N}});var n=i(85893),a=i(67294),t=i(45007),c=i(28922),o=i(5121),l=i(32938),s=i(62547),p=i(23279),u=i.n(p),m=i(964),d=i(69453);let x=m.default.div.withConfig({componentId:"sc-baa9a7f2-0"})(["display:grid;grid-template-areas:'price_min      price_max      currency-label' 'error-message  error-message  error-message';gap:10px;grid-template-columns:1fr 1fr 31px;grid-template-rows:40px 0px;label.currency{border:1px solid #000;display:none;}.currency-label{display:grid;align-items:center;font-family:",";font-size:14px;color:",";font-weight:600;}.error-message{color:red;font-size:12px;font-family:",";font-weight:400;margin-top:5px;}.price_min{grid-area:price_min;}.price_max{grid-area:price_max;}.currency-label{grid-area:currency-label;}.error-message{grid-area:error-message;}"],d.kP,d.VS,d.kP),g=m.default.div.withConfig({componentId:"sc-baa9a7f2-1"})(["position:relative;flex:1;"]);var b=i(39808);let f=m.default.div.withConfig({componentId:"sc-10b484b5-0"})(["position:absolute;top:100%;left:0;right:0;background:white;border:1px solid #e0e0e0;border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,0.1);max-height:150px;overflow-y:auto;margin-top:2px;box-sizing:border-box;padding:24px 16px 8px;z-index:1;@media ","{z-index:1;}@media ","{z-index:1000;max-height:200px;}&::-webkit-scrollbar{-webkit-appearance:none;}&::-webkit-scrollbar:vertical{width:10px;}&::-webkit-scrollbar-button:increment,&::-webkit-scrollbar-button{display:none;}&::-webkit-scrollbar:horizontal{height:10px;}&::-webkit-scrollbar-thumb{background-color:#237458;border-radius:20px;border:2px solid #ffffff;}&::-webkit-scrollbar-track{border-radius:10px;}"],e=>{let{theme:r}=e;return r.screenSizes.tablet},e=>{let{theme:r}=e;return r.screenSizes.laptop}),h=m.default.div.withConfig({componentId:"sc-10b484b5-1"})(["padding:0px 0px 16px 0px;font-family:",";font-size:14px;color:",";cursor:pointer;transition:all 0.2s ease;&:hover{color:#237458;}"],d.kP,d.VS),M=e=>{let{type_price:r,onSuggestionClick:i,visible:a=!0,className:t,suggestions:c,setHoverSuggestion:o}=e;if(c?.length===0||!a)return null;let l=e=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e).replace("$","$ ");return(0,n.jsx)(f,{className:t,onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},children:c.map((e,a)=>(0,n.jsx)(h,{onClick:()=>i(r,e),children:l(e)},a))})};var _=i(31430),I=i(42382),v=e=>{let{onChange:r,price:i,type_price:c,placeholder:o,handleControlErrorsPrices:l,error:p,suggestions:u,disabled:m,errors:d}=e,[x,f]=(0,a.useState)(i),[h,v]=(0,a.useState)(!1),[y,P]=(0,a.useState)(String(i)),[k,w]=(0,a.useState)(!1);(0,t.v9)(s.CA);let[N,S]=(0,a.useState)(!1),{device:C}=(0,a.useContext)(I.Tp),V=async(e,i)=>{w(!0),await new Promise(r=>{j(e,String(i)),r()}),r(e,String(i),!0),v(!1),S(!1),w(!1)};(0,a.useEffect)(()=>{f(i)},[i]);let j=(e,r)=>{l(e,r),P(r),w(!0)},z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k&&!e&&r(c,y,!1),C.isDesktop&&v(!1),w(!1)};return(0,a.useEffect)(()=>{N||h||v(!1)},[N,h]),(0,n.jsxs)(g,{className:c,children:[x===i&&(0,n.jsx)(b.D7,{dataId:"testing_text_field",id:c,name:c,country:"mx",originType:"pcom",defaultValue:"price_min"===c&&0===i||"price_max"===c&&i===_.jt.price_max?"":String(i),onChange:(e,r)=>j(e,r),placeHolder:o,onFocus:()=>{v(!0)},onBlur:()=>{z(N)},error:p,disabled:m,autoComplete:!1}),!1===d.errorInPriceMin&&!1===d.errorInPriceMax&&(0,n.jsx)(M,{type_price:c,onSuggestionClick:V,visible:h||N,suggestions:u,setHoverSuggestion:S})]})};let y={2:{price_min:[5e3,1e4,15e3,2e4,3e4,4e4,5e4],price_max:[5e3,1e4,15e3,2e4,3e4,4e4,5e4]},1:{price_min:[4e5,6e5,8e5,1e6,2e6,3e6,4e6,5e6,6e6,7e6,8e6,9e6,1e7],price_max:[4e5,6e5,8e5,1e6,2e6,3e6,4e6,5e6,6e6,7e6,8e6,9e6,1e7]},3:{price_min:[5e3,1e4,15e3,2e4,3e4,4e4,5e4,4e5,6e5,8e5,1e6,2e6,3e6,4e6,5e6,6e6,7e6,8e6,9e6,1e7],price_max:[5e3,1e4,15e3,2e4,3e4,4e4,5e4,4e5,6e5,8e5,1e6,2e6,3e6,4e6,5e6,6e6,7e6,8e6,9e6,1e7]}},P=(e,r)=>y[e]?.[r],k=function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,t=P(e,r);return"price_min"===r?t?.filter(e=>e<n&&e!==i&&e!==a):"price_max"===r?t?.filter(e=>e>i&&e!==n&&e!==a):t};var w=i(62645);let N=a.memo(e=>{let r,{textInStart:i}=e,p=(0,t.I0)(),m=(0,t.v9)(s.ew),d=(0,t.v9)(e=>e.Filters?.search)||{},{price_max:g,price_min:b}=d,f=(0,t.v9)(e=>e.Filters?.pending),h=(0,t.v9)(e=>e.Filters?.search.purpose),M=f?.price_min||b,_=f?.price_max||g,[I,y]=(0,a.useState)({errorInPriceMin:!1,errorInPriceMax:!1,priceMinValue:M,priceMaxValue:_}),P=function(e,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(I.errorInPriceMin||I.errorInPriceMax)&&!i||("price_min"===e?N(r,I.priceMaxValue,f??d):"price_max"===e&&S(r,I.priceMinValue,f??d))},N=(0,a.useRef)(u()(async(e,i,n)=>{let a={price_min:e=e.replace(",",""),price_max:i};p((0,c.ao)(a)),r&&r.cancel(),r=o.Z.CancelToken.source(),(0,l.XI)(m,"priceInterval",p),p((0,w.e)(r.token))},100)).current,S=(0,a.useRef)(u()(async(e,i,n)=>{let a={price_max:e=e.replace(",","").replace(",",""),price_min:i};p((0,c.ao)(a)),String(e).length>=2&&(r&&r.cancel(),r=o.Z.CancelToken.source(),(0,l.XI)(m,"priceInterval",p),p((0,w.e)(r.token)))},100)).current;(0,a.useEffect)(()=>{("0"!==I.priceMinValue||"10000000001"!==I.priceMaxValue)&&V()},[I.priceMinValue,I.priceMaxValue]);let C=(e,r)=>{"price_min"===e?y(e=>({...e,priceMinValue:r})):"price_max"===e&&y(e=>({...e,priceMaxValue:r}))},V=()=>{let{priceMinValue:e,priceMaxValue:r}=I,i=Number(e)||0,n=Number(r)||0,a={...I};0===n&&""!==r&&(a.errorInPriceMax=!0),0===i&&0===n&&(""!==e||""!==r)&&(a.errorInPriceMin=!0,a.errorInPriceMax=!0),i>0&&i<1e3?a.errorInPriceMin=!0:i>=1e3&&(a.errorInPriceMin=!1),n>0&&n<1e3?a.errorInPriceMax=!0:n>=1e3&&(a.errorInPriceMax=!1),i>0&&n>0&&i>n&&(a.errorInPriceMin=!0,a.errorInPriceMax=!0),n>10000000001&&(a.errorInPriceMax=!0),JSON.stringify(a)!==JSON.stringify(I)&&y(a)};return(0,a.useEffect)(()=>{!1===m.priceInterval&&y(e=>({...e,errorInPriceMin:!1,errorInPriceMax:!1,priceMinValue:M,priceMaxValue:_}))},[m.priceInterval]),(0,n.jsx)("div",{children:(0,n.jsxs)(x,{"data-gtm":"selector-price",children:[(0,n.jsx)(v,{onChange:P,price:Number(M),type_price:"price_min",placeholder:"Desde",handleControlErrorsPrices:C,error:I.errorInPriceMin,disabled:!1,errors:I,suggestions:k(h,"price_min",Number(I.priceMinValue),Number(I.priceMaxValue),Number(M))}),(0,n.jsx)(v,{onChange:P,price:Number(_),type_price:"price_max",placeholder:"Hasta",handleControlErrorsPrices:C,error:I.errorInPriceMax,errors:I,disabled:!1,suggestions:k(h,"price_max",Number(I.priceMinValue),Number(I.priceMaxValue),Number(_))}),(0,n.jsx)("div",{className:"currency-label",children:"MXN"}),(I.errorInPriceMin||I.errorInPriceMax)&&(0,n.jsx)("div",{className:"error-message",children:"Error en valores de precios"})]})})});N.displayName="Prices"},32938:function(e,r,i){i.d(r,{XI:function(){return a},bM:function(){return c},gC:function(){return t}});var n=i(28922);let a=(e,r,i)=>{let a={...e,[r]:!0};i((0,n.D5)(a))},t=async(e,r,i)=>{let a={...e,[r]:!1};i((0,n.D5)(a))},c=e=>{let r=Number(e);return isNaN(r)||0===r?"0":r>=1e9?Math.floor(r/1e9)+"B":r>=1e6?Math.floor(r/1e6)+"M":r>=1e3?Math.floor(r/1e3)+"K":String(r)}}}]);