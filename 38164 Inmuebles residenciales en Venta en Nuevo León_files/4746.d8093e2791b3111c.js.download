"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4746],{84746:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var r=a(85893),i=a(44864),o=a(89382),n=a(25675),s=a.n(n),l=a(67294),c=a(964);let d=(0,c.keyframes)(["0%{background-position:-200px 0;}100%{background-position:200px 0;}"]);c.default.div.withConfig({componentId:"sc-2f61ee02-0"})(["width:",";height:",";background:linear-gradient(90deg,#f0f0f0 0%,#ffffff 50%,#f0f0f0 0%);background-size:400% 100%;animation:"," 1.5s infinite;border-radius:4px;margin-bottom:10px;"],e=>e.width||"100%",e=>e.height||"16px",d);let p=c.default.div.withConfig({componentId:"sc-2f61ee02-1"})(["position:relative;&:hover{.embla__arrows{@media ","{display:block;}}}.embla{overflow:hidden;width:100%;height:210px;background-image:url(","card/background.webp);background-color:#f0f0f0;background-size:100% auto;background-position:center center;@media ","{height:193px;}@media ","{height:206px;}}.embla__viewport{display:flex;will-change:transform;height:210px;transition:transform 0.25s cubic-bezier(0.25,0.8,0.5,1);}.embla:not(.ready) .embla__viewport{transition:none;}.embla__slide{flex:0 0 100%;min-width:0;backface-visibility:hidden;transform:translateZ(0);height:210px;}img{display:block;opacity:1;transition:opacity 0.17s ease-in-out;will-change:opacity;}.embla__slide img.loaded,.embla__slide img:first-of-type{opacity:1;}.embla__arrows{position:absolute;top:calc(50% + 4px);width:100%;justify-content:space-between;display:none;}.arrow-embla{position:absolute;top:50%;transform:translateY(-50%);background:rgba(27,28,29,0.4);color:#d7d4d4;border:none;width:35px;height:35px;border-radius:50%;cursor:pointer;z-index:10;display:flex;align-items:center;justify-content:center;font-size:36px;line-height:29px;align-items:baseline;transition:background-color 0.3s ease;}.arrow-embla:hover{background:rgba(27,28,29,0.4);}.arrow-left{left:8px;}.arrow-right{right:8px;}.dot-container{display:flex;gap:8px;margin-top:1rem;overflow:hidden;width:60px;height:12px;position:absolute;bottom:15px;left:50%;transform:translateX(-50%);align-items:center;}.dot-track{display:flex;transition:transform 0.3s ease-in-out;align-items:center;}.dot{width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,0.6);box-shadow:rgba(0,0,0,0.2) 0px 2px 2px 0px;transition:background-color 0.3s ease-in-out,transform 0.3s ease-in-out;transform:scale(1);border:none;cursor:pointer;margin:0 3px;opacity:0.5;will-change:transform,background-color;}.dot.active{background-color:#ffffff;width:8px;height:8px;transform:scale( 1.1 );opacity:1;}.dot-container,.dot-track{-webkit-transform:translateX( -50% );-webkit-transition:transform 0.3s ease-in-out;}.dot{-webkit-transition:background-color 0.3s ease-in-out,transform 0.3s ease-in-out;}"],e=>{let{theme:t}=e;return t.screenSizes.tabletL},"https://cdn.propiedades.com/",e=>{let{theme:t}=e;return t.screenSizes.laptop},e=>{let{theme:t}=e;return t.screenSizes.laptopL}),m=c.default.div.withConfig({componentId:"sc-2f61ee02-2"})(["aspect-ratio:",";img{top:calc(50% - ","px);position:relative;max-width:unset;}@media (min-width:400px) and (max-width:1279px){img{width:-webkit-fill-available;height:auto;max-width:unset;aspect-ratio:",";}}@media ","{img{width:100%;object-fit:none;top:calc(46% - ","px);}}@media ","{img{top:calc(49% - ","px);}}"],e=>{let{width:t,height:a}=e;return`${t} / ${a}`},e=>{let{height:t}=e;return t?t/2:0},e=>{let{width:t,height:a}=e;return`${t} / ${a}`},e=>{let{theme:t}=e;return t.screenSizes.laptop},e=>{let{height:t}=e;return t?t/2:0},e=>{let{theme:t}=e;return t.screenSizes.laptopL},e=>{let{height:t}=e;return t?t/2:0});var h=a(64675),u=a(42382),f=e=>{let{id:t,initialImage:a,defaultString:n,url_property:c,trackingViewImage:d,index:f}=e,[g,b]=(0,o.Z)({loop:!1}),[x,w]=(0,l.useState)([a]),[k,v]=(0,l.useState)(!1),[y,_]=(0,l.useState)({}),[S,j]=(0,l.useState)(0),[z,N]=(0,l.useState)(new Set),[$,C]=(0,l.useState)(!1),[I,E]=(0,l.useState)(!1),[P,M]=(0,l.useState)(!1),{device:T}=(0,u.v$)(),L=T.isMobile?1:T.isTablet?3:7,O=(0,l.useRef)(null),X=(0,l.useCallback)(async()=>{if(!k)try{let e=await (0,i.BI)(t),r=e?.data?.data??[],o=Object.entries(r).map(e=>{let[t,r]=e;return{id:t,image:`https://cdn.propiedades.com/files/336x200/${r.image}`,alt:r.alt||a.alt||n||"",title:r.title||a.title||n||"",...(0,h.or)(r.height,r.width)}});w([...o]),v(!0),setTimeout(()=>b?.reInit(),50)}catch(e){console.error("Error loading gallery",e)}},[t,k]),A=function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return 0===e&&void 0!==t&&t<L||0===e&&!!a||!!r&&e<i+2};(0,l.useEffect)(()=>{if(!O.current||I)return;let e=new IntersectionObserver(t=>{t[0].isIntersecting&&(E(!0),setTimeout(()=>{X(),e.disconnect()},300))},{rootMargin:"150px"});return e.observe(O.current),()=>e.disconnect()},[X,I]),(0,l.useEffect)(()=>{if(!b)return;let e=()=>{let e=b.selectedScrollSnap();j(e),M(!0),$||0===e||(d(),C(!0))},t=()=>{M(!0)};return b.on("select",e),b.on("scroll",t),j(b.selectedScrollSnap()),()=>{b.off("select",e),b.off("scroll",t)}},[b,$,x.length]);let D=x.length>1?x.length:5,Z=0;return D>5&&(Z=Math.min(12*Math.max(0,S-Math.floor(2.5)),(D-5)*12)),(0,r.jsxs)(p,{ref:O,children:[(0,r.jsx)("div",{className:"embla ",ref:g,children:(0,r.jsx)("div",{className:"embla__viewport",children:x.map((e,t)=>{let{image:i,alt:o,title:n,width:l,height:d}=e;return(0,r.jsxs)(m,{className:"embla__slide",itemProp:"photo",itemScope:!0,itemType:"https://schema.org/ImageObject",width:l,height:d,children:[(0,r.jsx)(s(),{src:A(t,f,I,P,S)?i:"https://cdn.propiedades.com/card/background-card.webp",alt:o,title:n,width:l,height:d,loading:0===t?"eager":"lazy",priority:0===t,className:z.has(t)?"loaded":"",unoptimized:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",quality:85,onLoad:()=>{N(e=>new Set(e).add(t))},onError:()=>{_(e=>({...e,[t]:!0})),console.error(`Error loading image at index ${t}: ${i}`)}}),0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{itemProp:"url",content:c}),(0,r.jsx)("meta",{itemProp:"thumbnail",content:a.image})]})]},t)})})}),b&&(0,r.jsxs)("div",{className:"embla__arrows",children:[b?.canScrollPrev()&&(0,r.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),b.scrollPrev()},className:"arrow-embla arrow-left","aria-label":"Anterior",children:"‹"}),!(S>1&&x.length-1===S)&&(0,r.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),b?.scrollNext()},className:"arrow-embla arrow-right","aria-label":"Siguiente",children:"›"})]}),(0,r.jsx)("div",{className:"dot-container",children:(0,r.jsx)("div",{className:"dot-track",style:{transform:`translateX(-${Z}px)`},children:Array.from({length:D}).map((e,t)=>(0,r.jsx)("div",{className:`dot ${t===S?"active":""}`,onClick:()=>b?.scrollTo(t)},t))})})]})}}}]);