"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6389],{76389:function(e,t,n){n.d(t,{Z:function(){return D}});var a=n(70885),l=(n(74916),n(77601),n(68309),n(67294)),o=n(11964),c=n(91166),r=n(20362),i=n(40646),s=(n(81299),n(42552),n(54083)),m=n.n(s),u=n(2342),d=n.n(u),p=n(4020),f=n.n(p),v=n(74527),h=n.n(v),E=n(2945),g=n.n(E),y=n(13698),b=n.n(y),_=n(3556),C=n.n(_),k=(n(83956),n(96175),n(92584),n(32504),n(84335),n(59499),n(19960),n(98905),n(69400)),A=n(5253);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var l=C()(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return b()(this,n)}}var w=function(e){g()(n,e);var t=N(n);function n(e){var a;return d()(this,n),(a=t.call(this,e)).opts=Object.assign({},{minimumScore:0},e),a.iconPlacedHandler=a.onIconPlaced.bind(h()(a)),a}return f()(n,[{key:"install",value:function(){var e=this;this.core.on("plugins.icon.placed",this.iconPlacedHandler);var t=void 0===window[n.LOADED_CALLBACK]?function(){}:window[n.LOADED_CALLBACK];window[n.LOADED_CALLBACK]=function(){t();var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",n.CAPTCHA_FIELD),document.getElementById(e.opts.element).appendChild(a),e.core.addField(n.CAPTCHA_FIELD,{validators:{promise:{message:e.opts.message,promise:function(t){return new Promise((function(t,a){window.grecaptcha.execute(e.opts.siteKey,{action:e.opts.action}).then((function(l){(0,A.Z)(e.opts.backendVerificationUrl,{method:"POST",params:m()({},n.CAPTCHA_FIELD,l)}).then((function(n){var a="true"==="".concat(n.success)&&n.score>=e.opts.minimumScore;t({message:n.message||e.opts.message,meta:n,valid:a})})).catch((function(e){a({valid:!1})}))}))}))}}}})};var a=this.getScript();if(!document.body.querySelector('script[src="'.concat(a,'"]'))){var l=document.createElement("script");l.type="text/javascript",l.async=!0,l.defer=!0,l.src=a,document.body.appendChild(l)}}},{key:"uninstall",value:function(){this.core.off("plugins.icon.placed",this.iconPlacedHandler);var e=this.getScript();[].slice.call(document.body.querySelectorAll('script[src="'.concat(e,'"]'))).forEach((function(e){return e.parentNode.removeChild(e)})),this.core.removeField(n.CAPTCHA_FIELD)}},{key:"getScript",value:function(){var e=this.opts.language?"&hl=".concat(this.opts.language):"";return"https://www.google.com/recaptcha/api.js?"+"onload=".concat(n.LOADED_CALLBACK,"&render=").concat(this.opts.siteKey).concat(e)}},{key:"onIconPlaced",value:function(e){e.field===n.CAPTCHA_FIELD&&(e.iconElement.style.display="none")}}]),n}(k.Z);w.CAPTCHA_FIELD="___g-recaptcha-token___",w.LOADED_CALLBACK="___reCaptcha3Loaded___";var Z=n(15834),L=n(62350),P=n(28699),x=n(9669),I=n.n(x),B=n(8137);function D(e){var t=e.trans,n=e.placeholder,s=e.mensaje,m=e.idPropiedades,u=e.idAfiliados,d=e.idAsesores,p=e.locale,f=e.pathContacto,v=e.tipo,h=e.reCaptchaKey,E=e.backendVerificationUrl,g=(0,l.useState)(""),y=(0,a.Z)(g,2),b=y[0],_=y[1],C=(0,l.useState)(t.Contactar),k=(0,a.Z)(C,2),A=k[0],N=k[1],x=(0,l.useState)(""),D=(0,a.Z)(x,2),S=D[0];D[1];return(0,l.useEffect)((function(){console.log("iniciando fv");var e=document.getElementById("contacto1"),n=Z.Z;switch(p){case"en":n=L.Z;break;case"pt":n=P.Z;break;default:n=Z.Z}var a={trigger:new r.Z,submitButton:new i.Z,bootstrap:new c.Z({rowSelector:function(e,t){switch(e){case"terminosYCondiciones":case"___g-recaptcha-token___":return".form-check";default:return".form-floating"}}})};h&&(a.recaptcha3=new w({action:"formularioContacto",backendVerificationUrl:E,element:"captchaContainer",message:t.por_favor_valida_el_captcha,siteKey:h})),(0,o.Z)(e,{localization:n,plugins:a,fields:{telefono:{validators:{callback:{message:t.Introduce_un_teléfono_valido,callback:function(e){return(0,B.y)(e.value,"MX")||(0,B.y)(e.value,"AR")||(0,B.y)(e.value,"BO")||(0,B.y)(e.value,"BR")||(0,B.y)(e.value,"BZ")||(0,B.y)(e.value,"CL")||(0,B.y)(e.value,"CO")||(0,B.y)(e.value,"CR")||(0,B.y)(e.value,"EC")||(0,B.y)(e.value,"GT")||(0,B.y)(e.value,"GY")||(0,B.y)(e.value,"HN")||(0,B.y)(e.value,"PA")||(0,B.y)(e.value,"PY")||(0,B.y)(e.value,"PE")||(0,B.y)(e.value,"UY")||(0,B.y)(e.value,"VE")||(0,B.y)(e.value,"US")||(0,B.y)(e.value)}}}},email:{validators:{notEmpty:{},emailAddress:{multiple:!1,separator:","},callback:{message:t.El_email_caracter_no_valido,callback:function(e,t,n){return!/[*^áéíóúÁÉÍÓÚñ]/.test(e.value)}}}},nombre:{validators:{notEmpty:{},stringLength:{min:3}}},mensaje:{validators:{notEmpty:{},stringLength:{min:3}}},terminosYCondiciones:{validators:{notEmpty:{}}}}}).on("core.form.valid",(function(e){console.log("enviando"),N(t.ENVIANDO)}))}),[]),(0,l.useEffect)((function(){if(A==t.ENVIANDO){for(var e=document.getElementById("contacto1").elements,n={},a=0;a<e.length;a++)n[e[a].name]=e[a].value;null!=m&&(n.idPropiedad=m),null!=u&&(n.idAfiliados=u),null!=d&&(n.idAsesor=d),null!=v&&(n.tipo=v),h&&(n.token=S),console.log(n);var l=f;I().post(l,n).then((function(e){console.log("result"),console.log(e);var n;n=t.graciasContacto,_(n),N(t.Contactar)}))}}),[A]),l.createElement(l.Fragment,null,l.createElement("div",{className:"text-center ".concat(""==b?"d-none":"")},l.createElement("div",{className:"my-5 py-5 h5"},b)),l.createElement("form",{name:"prospectos",method:"post",id:"contacto1",className:"form-horizontal fv-plugins-bootstrap fv-plugins-framework ".concat(""!=b?"d-none":""),noValidate:"novalidate"},l.createElement("div",{className:"row mb-2 "},l.createElement("div",{className:"col-md pe-md-1 mt-2 mt-md-0"},l.createElement("div",{className:"form-floating"},l.createElement("input",{type:"text",id:"prospectos_nombre",name:"nombre",required:"required",placeholder:t.Nombre,className:"form-control"}),l.createElement("label",{htmlFor:"prospectos_nombre",className:"col-form-label col-form-label-sm"},t.Nombre))),l.createElement("div",{className:"col-md ps-md-1 mt-2 mt-md-0"},l.createElement("div",{className:"form-floating"},l.createElement("input",{type:"text",id:"prospectos_telefono",name:"telefono",required:"required",placeholder:t.Ingresa_tu_telefono,className:"form-control"}),l.createElement("label",{htmlFor:"prospectos_telefono",className:"col-form-label col-form-label-sm"},t.Teléfono)))),l.createElement("div",{className:"row my-2"},l.createElement("div",{className:"col-md"},l.createElement("div",{className:"form-floating"},l.createElement("input",{type:"text",id:"prospectos_email",name:"email",required:"required",placeholder:t.Ingresa_tu_email,className:"form-control"}),l.createElement("label",{htmlFor:"prospectos_email",className:" col-form-label col-form-label-sm"},t.Email)))),l.createElement("div",{className:"row "},l.createElement("div",{className:"col-md"},l.createElement("div",{className:"form-floating"},l.createElement("textarea",{id:"prospectos_mensaje",name:"mensaje",required:"required",placeholder:n,className:"form-control",style:{height:100},defaultValue:s}),l.createElement("label",{htmlFor:"prospectos_mensaje"},t.Mensaje)))),l.createElement("div",{className:"row my-2"},l.createElement("div",{className:"col-md"},l.createElement("div",{className:"form-check"},l.createElement("input",{type:"checkbox",className:"form-check-input",id:"terminosYCondiciones",name:"terminosYCondiciones"}),l.createElement("label",{className:"form-check-label text-muted small",htmlFor:"terminosYCondiciones"},t.Acepto_TYC)))),l.createElement("button",{disabled:A==t.ENVIANDO,type:"submit",id:"prospectos_save",name:"save",className:"form-button btn btn-primary w-100 btn mt-2"},A),l.createElement("div",{className:"row "},l.createElement("div",{className:"col-md"},l.createElement("div",{className:"form-check",id:"captchaContainer"})))))}},91166:function(e,t,n){n.d(t,{Z:function(){return b}});n(92584),n(81299),n(42552);var a=n(2342),l=n.n(a),o=n(4020),c=n.n(o),r=n(74527),i=n.n(r),s=n(34766),m=n.n(s),u=n(2945),d=n.n(u),p=n(13698),f=n.n(p),v=n(3556),h=n.n(v),E=(n(83956),n(96175),n(24466)),g=n(73079);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var l=h()(this).constructor;n=Reflect.construct(a,arguments,l)}else n=a.apply(this,arguments);return f()(this,n)}}var b=function(e){d()(n,e);var t=y(n);function n(e){var a;return l()(this,n),(a=t.call(this,Object.assign({},{eleInvalidClass:"is-invalid",eleValidClass:"is-valid",formClass:"fv-plugins-bootstrap5",rowInvalidClass:"fv-plugins-bootstrap5-row-invalid",rowPattern:/^(.*)(col|offset)(-(sm|md|lg|xl))*-[0-9]+(.*)$/,rowSelector:".row",rowValidClass:"fv-plugins-bootstrap5-row-valid"},e))).eleValidatedHandler=a.handleElementValidated.bind(i()(a)),a}return c()(n,[{key:"install",value:function(){m()(h()(n.prototype),"install",this).call(this),this.core.on("core.element.validated",this.eleValidatedHandler)}},{key:"uninstall",value:function(){m()(h()(n.prototype),"install",this).call(this),this.core.off("core.element.validated",this.eleValidatedHandler)}},{key:"handleElementValidated",value:function(e){var t=e.element.getAttribute("type");if(("checkbox"===t||"radio"===t)&&e.elements.length>1&&(0,g.Z)(e.element,"form-check-input")){var n=e.element.parentElement;(0,g.Z)(n,"form-check")&&(0,g.Z)(n,"form-check-inline")&&(0,E.Z)(n,{"is-invalid":!e.valid,"is-valid":e.valid})}}},{key:"onIconPlaced",value:function(e){(0,E.Z)(e.element,{"fv-plugins-icon-input":!0});var t=e.element.parentElement;(0,g.Z)(t,"input-group")&&(t.parentElement.insertBefore(e.iconElement,t.nextSibling),e.element.nextElementSibling&&(0,g.Z)(e.element.nextElementSibling,"input-group-text")&&(0,E.Z)(e.iconElement,{"fv-plugins-icon-input-group":!0}));var n=e.element.getAttribute("type");if("checkbox"===n||"radio"===n){var a=t.parentElement;(0,g.Z)(t,"form-check")?((0,E.Z)(e.iconElement,{"fv-plugins-icon-check":!0}),t.parentElement.insertBefore(e.iconElement,t.nextSibling)):(0,g.Z)(t.parentElement,"form-check")&&((0,E.Z)(e.iconElement,{"fv-plugins-icon-check":!0}),a.parentElement.insertBefore(e.iconElement,a.nextSibling))}}},{key:"onMessagePlaced",value:function(e){e.messageElement.classList.add("invalid-feedback");var t=e.element.parentElement;if((0,g.Z)(t,"input-group"))return t.appendChild(e.messageElement),void(0,E.Z)(t,{"has-validation":!0});var n=e.element.getAttribute("type");"checkbox"!==n&&"radio"!==n||!(0,g.Z)(e.element,"form-check-input")||!(0,g.Z)(t,"form-check")||(0,g.Z)(t,"form-check-inline")||e.elements[e.elements.length-1].parentElement.appendChild(e.messageElement)}}]),n}(n(37604).Z)}}]);